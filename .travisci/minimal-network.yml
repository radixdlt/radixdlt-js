version: '3'
services:
  core0:
    environment:
      RADIXDLT_HOST_IP_ADDRESS: core0
      RADIXDLT_NETWORK_SEEDS_REMOTE: core1
      RADIXDLT_CONSENSUS_FIXED_NODE_COUNT: 2
      RADIXDLT_LOG_LEVEL: debug
      RADIXDLT_UNIVERSE: ${RADIXDLT_UNIVERSE}
      JAVA_OPTS: -server -Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -XX:+AlwaysPreTouch -Djava.security.egd=file:/dev/urandom
    build: .
    image: radixdlt/radixdlt-core:1.0-beta.19
    labels:
      com.radixdlt.roles: "core"
    networks:
      - minimal_universe
    ports:
      - "8080:8080"  
  core1:
    environment:
      RADIXDLT_HOST_IP_ADDRESS: core1
      RADIXDLT_NETWORK_SEEDS_REMOTE: core0
      RADIXDLT_CONSENSUS_FIXED_NODE_COUNT: 2
      RADIXDLT_LOG_LEVEL: debug
      RADIXDLT_UNIVERSE: ${RADIXDLT_UNIVERSE}
      JAVA_OPTS: -server -Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -XX:+AlwaysPreTouch -Djava.security.egd=file:/dev/urandom
    build: .
    image: radixdlt/radixdlt-core:1.0-beta.19
    labels:
      com.radixdlt.roles: "core"
    networks:
      - minimal_universe
    ports:
      - "8081:8080"
networks:
  minimal_universe:
